<!DOCTYPE html>
<html>
  <head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Data</title>
  <link rel="stylesheet" href="sch.css" type="text/css" media="all" />
  <script src="sch.js">sch.js</script>
  </style>
    
  </style>
  <style>
  h3{
  position :absolute;
  top:-20px;
  color: red;
  background: linear-gradient(45deg, #41ff64,#428ff4);
  width: 400px;
  height: 35px;
  filter :blur(1px);
  
  }
  </style>
  </head>
  <body>
 <h3>School Data</h3>
      </div>
  <div class="menu-icon" onclick="toggleMenu()">
    <div></div>
    <div></div>
    <div></div>
   
  </div>
 
  
  <div class="nav" id="navMenu">
    <a onclick="window.location.href='Targets.html'">Update Targets</a>
    <a onclick="rightheader()">Update Completion</a>
    <a onclick="window.location.href='Data Entrynotebook.html'">Update Notebook</a>
    <a onclick="window.location.href='Hwinput.html'">Update HomeWork </a>
    <a onclick="window.location.href='Tetsinput.html'">Update Test</a>
    <a onclick="window.location.href='InCopycheck.html'">Update Copy check</a>
    
    
  </div>
  
  <script>
    function toggleMenu() {
      const nav = document.getElementById("navMenu");
      nav.style.display = nav.style.display === "block" ? "none" : "block";
    }
  </script>
  <div class="header" >
  
  <div id="workdone"></div>
 <b> <div id="date"></div></b> 

  <div id="target" onclick="">
  <span id="f"></span> <br>
  <span id="s"></span> <br>
  <span id="t"></span> <br>
  <span id="u"></span> <br>
  <span id="v"></span>  <br>
  <span id="w"></span>

  </div>
  <!-- note book complete work -->
  <div id="ncw" onclick="">
     <!--english work complete-->
<div id="enwc">}|[\[\{\{</div>
<!--hindi work complete-->
<div id="hiwc">}|[|[|}{|</div>
<!--sst work complete-->
<div id="mtywc">]\{\{|[}<] </div>
<!--mathsY work complete-->
<div id="scwc">]\{~}|]<}</div>
<!--science work complete-->
<div id="sstwc">{|[\{|}\[</div> 
<!-- mathsB work complete-->
<div id="mtbwc">[<[\{\[|}<</div>
    <!--ncwp -notebook complete work percentage-->
    <b> <div id="ncwp">[]}[[]</div></b>
  </div>
  </div>
  <div class="container">
    <!--hindi work -->
  <div id="hw" onclick="hwshow()">ðŸ“ƒ</div>
  <!-- note book data -->
  <div id="nd" onclick="nbshow()">ðŸ“š</div>
  <!-- test available -->
  <div id="tst" onclick="window.location.href='Testview.html'">ðŸ—ž</div>
  <!-- copy check infuture -->  <div id="cc" onclick="window.location.href='DashboardCopy.html'">ðŸ“–</div>
<script type="module">
  // âœ… Import Firebase
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
  import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

  // âœ… Firebase Config
  const firebaseConfig = {
    apiKey: "AIzaSyC3veCIGvvGB-Gm4l1-1QiaKarfKRqgYwk",
    authDomain: "school-87740.firebaseapp.com",
    databaseURL: "https://school-87740-default-rtdb.firebaseio.com",
    projectId: "school-87740",
    storageBucket: "school-87740.appspot.com",
    messagingSenderId: "995471048405",
    appId: "1:995471048405:web:6d40e2eb61fdc6f5066c5c",
    measurementId: "G-05TEK2FRM6"
  };

  // âœ… Init Firebase
  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  // âœ… Date Display Function Logic (no change)
  function Time() {
    const now = new Date();
    let hour = now.getHours();
    let minute = now.getMinutes();
    let second = now.getSeconds();

    let seconds = second < 10 ? '0' + second : second;
    let hours = hour < 10 ? '0' + hour : hour;
    let hoursf = hours > 12 ? hours - 12 : hours;
    let minutes = minute < 10 ? '0' + minute : minute;
    let ampm = hour > 12 ? 'PM' : 'AM';
    document.getElementById('date').innerHTML = 'last update:' + hoursf + ':' + minutes + ':' + seconds + ' ' + ampm;
  }
  setInterval(Time, 1000);

  // âœ… All Data Sync to Firebase
  function SaveAllLocalStorage(pathPrefix) {
    const allLocalStorageData = Object.fromEntries(Object.entries(localStorage));
    const userId = pathPrefix + "_" + new Date().getTime();
    set(ref(db, pathPrefix + "/" + userId), allLocalStorageData);
  }

  // âœ… Update progress section + save all data
  function Getdata() {
    // ...existing code for setting UI...
    // Save localStorage snapshot
    SaveAllLocalStorage("progress");
  }
  setInterval(Getdata, 5000);

  // âœ… Update completed section + save all data
  function ncw() {
    // ...existing code for setting UI...
    // Save localStorage snapshot
    SaveAllLocalStorage("completed");
  }
  setInterval(ncw, 5000);

  // Rest of your navigation code
  function rightheader() { window.location.href = "Notebook.html"; }
  function hwshow() { window.location.href = "Homework.html"; }
  function nbshow() { window.location.href = "notebookDataset.html"; }
</script>

  </body>
</html>
