<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Homework by Date</title>
  <style>
    body { font-family: system-ui, sans-serif; padding: 24px; background:#f7f8fb; color:#111; display:flex; flex-direction:column; gap:24px; }
    .date-card { background:white; border-radius:12px; padding:16px; box-shadow:0 6px 18px rgba(20,20,40,0.06); max-width:760px; margin:auto; width:100%; }
    .date-title { font-size:18px; font-weight:700; margin-bottom:12px; border-bottom:1px solid #eee; padding-bottom:6px; }
    ul.tasks { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:10px; }
    li.task { display:flex; align-items:center; gap:12px; padding:10px; border-radius:8px; transition:all .18s ease; }
    li.task:not(.expired):hover { transform:translateY(-2px); box-shadow:0 6px 18px rgba(20,20,40,0.04); }
    .meta { display:flex; flex-direction:column; line-height:1.3; }
    .title { font-weight:600; }
    .deadline { font-size:12px; color:#666; }
    .check-area { width:40px; display:flex; align-items:center; justify-content:center; }
    input[type="checkbox"] { width:18px; height:18px; }
    /* expired style */
    li.task.expired { opacity:0.7; background: linear-gradient(90deg, rgba(255,230,230,0.6), rgba(255,245,245,0.4)); border:1px solid rgba(255,200,200,0.6); }
    li.task.expired .title { text-decoration: line-through; color:#a33; }
    .x-mark { font-size:20px; font-weight:700; color:#c33; transform:rotate(-12deg); }
    li.task.expired .checkbox { display:none; }
  </style>
</head>
<body>

  <!-- Card for 9 Sept -->
  <div class="date-card">
    <div class="date-title">9 Sept 2025</div>
    <ul class="tasks">
      <li class="task" data-deadline="2025-09-09T18:00:00+05:30">
        <div class="check-area checkbox"><input type="checkbox" /></div>
        <div class="meta">
          <div class="title">Math: Chapter 5 Practice</div>
          <div class="deadline">Due: Sep 9, 2025 18:00 IST</div>
        </div>
        <div class="check-area x-area" style="display:none"><span class="x-mark">✗</span></div>
      </li>
      <li class="task" data-deadline="2025-09-09T21:00:00+05:30">
        <div class="check-area checkbox"><input type="checkbox" /></div>
        <div class="meta">
          <div class="title">English Essay</div>
          <div class="deadline">Due: Sep 9, 2025 21:00 IST</div>
        </div>
        <div class="check-area x-area" style="display:none"><span class="x-mark">✗</span></div>
      </li>
    </ul>
  </div>

  <!-- Card for 10 Sept -->
  <div class="date-card">
    <div class="date-title">10 Sept 2025</div>
    <ul class="tasks">
      <li class="task" data-deadline="2025-09-10T20:00:00+05:30">
        <div class="check-area checkbox"><input type="checkbox" /></div>
        <div class="meta">
          <div class="title">Science: Worksheet</div>
          <div class="deadline">Due: Sep 10, 2025 20:00 IST</div>
        </div>
        <div class="check-area x-area" style="display:none"><span class="x-mark">✗</span></div>
      </li>
    </ul>
  </div>

  <script>
    const THRESHOLD_MS = 12 * 60 * 60 * 1000; // 12 hours

    function refreshTasks() {
      const now = new Date();
      document.querySelectorAll('li.task').forEach(li => {
        const dl = li.getAttribute('data-deadline');
        if (!dl) return;

        const deadline = new Date(dl);
        const diff = now - deadline;

        const checkbox = li.querySelector('input[type="checkbox"]');
        const cbArea = li.querySelector('.checkbox');
        const xArea = li.querySelector('.x-area');

        if (diff >= THRESHOLD_MS) {
          if (checkbox && checkbox.checked) {
            // ✅ completed → show tick
            li.classList.remove('expired');
            cbArea.style.display = 'flex';
            xArea.style.display = 'none';
          } else {
            // ❌ expired + pending → show X
            li.classList.add('expired');
            cbArea.style.display = 'none';
            xArea.style.display = 'flex';
          }
        } else {
          // ⏳ still within deadline
          li.classList.remove('expired');
          cbArea.style.display = 'flex';
          xArea.style.display = 'none';
        }
      });
    }

    refreshTasks();
    setInterval(refreshTasks, 60 * 1000);
  </script>
</body>
</html>
